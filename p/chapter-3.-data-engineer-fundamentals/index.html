<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Summary of Designing Machine Learning Systems written by Chip Huyen.\nChapter 3. Data Engineer Fundamentals To retrive stored data\n‚Üí important to know\nnot only how it‚Äôs formatted but also how it‚Äôs structured Database: data sotrage engine\ntransactional Analytical Data in Production\nPipeline Data ‚Üí multiple processes and service Raw data ‚Üí featur engineering service ‚Üí predictions Types Historical data in data storage engines Streaming data in real-time transports ‚Üí requires different processing paradigms 1. Data Sources 1. User input data data explicitly input by users\n"><title>Chapter 3. Data Engineer Fundamentals</title>
<link rel=canonical href=https://aiden-jeon.github.io/blog/p/chapter-3.-data-engineer-fundamentals/><link rel=stylesheet href=/blog/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="Chapter 3. Data Engineer Fundamentals"><meta property='og:description' content="Summary of Designing Machine Learning Systems written by Chip Huyen.\nChapter 3. Data Engineer Fundamentals To retrive stored data\n‚Üí important to know\nnot only how it‚Äôs formatted but also how it‚Äôs structured Database: data sotrage engine\ntransactional Analytical Data in Production\nPipeline Data ‚Üí multiple processes and service Raw data ‚Üí featur engineering service ‚Üí predictions Types Historical data in data storage engines Streaming data in real-time transports ‚Üí requires different processing paradigms 1. Data Sources 1. User input data data explicitly input by users\n"><meta property='og:url' content='https://aiden-jeon.github.io/blog/p/chapter-3.-data-engineer-fundamentals/'><meta property='og:site_name' content="Aiden's Camp"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='ml-system'><meta property='article:published_time' content='2022-11-07T00:00:00+00:00'><meta property='article:modified_time' content='2022-11-07T00:00:00+00:00'><meta name=twitter:title content="Chapter 3. Data Engineer Fundamentals"><meta name=twitter:description content="Summary of Designing Machine Learning Systems written by Chip Huyen.\nChapter 3. Data Engineer Fundamentals To retrive stored data\n‚Üí important to know\nnot only how it‚Äôs formatted but also how it‚Äôs structured Database: data sotrage engine\ntransactional Analytical Data in Production\nPipeline Data ‚Üí multiple processes and service Raw data ‚Üí featur engineering service ‚Üí predictions Types Historical data in data storage engines Streaming data in real-time transports ‚Üí requires different processing paradigms 1. Data Sources 1. User input data data explicitly input by users\n"><link rel="shortcut icon" href=/blog/icons/favicon.ico><script async src="https://www.googletagmanager.com/gtag/js?id=G-419F58RW9W"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-419F58RW9W")}</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/blog/><img src=/blog/imgs/avatar_hu6933059792947527008.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>üî•</span></figure><div class=site-meta><h1 class=site-name><a href=/blog>Aiden's Camp</a></h1><h2 class=site-description>Welcome to Aiden's Camp</h2></div></header><ol class=menu-social><li><a href=https://github.com/Aiden-Jeon target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://www.linkedin.com/in/jongseob-jeon/ target=_blank title=Linkedin rel=me><svg fill="#000" height="800" width="800" id="Layer_1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 310 310"><g id="XMLID_801_"><path id="XMLID_802_" d="M72.16 99.73H9.927c-2.762.0-5 2.239-5 5v199.928c0 2.762 2.238 5 5 5H72.16c2.762.0 5-2.238 5-5V104.73c0-2.76100000000001-2.238-5-5-5z"/><path id="XMLID_803_" d="M41.066.341C18.422.341.0 18.743.0 41.362.0 63.991 18.422 82.4 41.066 82.4c22.626.0 41.033-18.41 41.033-41.038C82.1 18.743 63.692.341 41.066.341z"/><path id="XMLID_804_" d="M230.454 94.761c-24.995.0-43.472 10.745-54.679 22.954V104.73c0-2.761-2.238-5-5-5h-59.599c-2.762.0-5 2.239-5 5v199.928c0 2.762 2.238 5 5 5h62.097c2.762.0 5-2.238 5-5V205.74c0-33.333 9.054-46.319 32.29-46.319 25.306.0 27.317 20.818 27.317 48.034v97.204c0 2.762 2.238 5 5 5H305c2.762.0 5-2.238 5-5V194.995C310 145.43 300.549 94.761 230.454 94.761z"/></g></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/blog/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/blog/categories><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg>
<span>Categories</span></a></li><li><a href=/blog/tags><svg class="icon icon-tabler icon-tabler-tag" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11 3l9 9a1.5 1.5.0 010 2l-6 6a1.5 1.5.0 01-2 0L3 11V7a4 4 0 014-4h4"/><circle cx="9" cy="9" r="2"/></svg>
<span>Tags</span></a></li><li><a href=/blog/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li><a href=/blog/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/blog/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ul><li><a href=#1-data-sources>1. Data Sources</a><ul><li><a href=#1-user-input-data>1. User input data</a></li><li><a href=#2-system-generated-data>2. System-generated data</a></li><li><a href=#3-internal-databases>3. Internal databases</a></li><li><a href=#4-third-party-data>4. Third-party data</a></li></ul></li><li><a href=#2-data-formats>2. Data Formats</a><ul><li><a href=#1-json-javascript-object-notation>1. JSON (JavaScript Object Notation)</a></li><li><a href=#2-row-major-versus-column-major>2. Row-Major versus Column-Major</a></li><li><a href=#3-text-versus-binary-format>3. Text versus binary format</a></li></ul></li><li><a href=#3-data-models>3. Data Models</a><ul><li><a href=#1relation-model>1.Relation Model</a></li><li><a href=#2-nosql-not-only-sql>2. NoSQL (Not Only SQL)</a></li><li><a href=#3-structured-versus-unstructed-data>3. Structured versus Unstructed data</a></li></ul></li><li><a href=#4-data-storage-engine-and-processing>4. Data Storage Engine and Processing</a><ul><li><a href=#1-transactional-and-analytical-processing>1. Transactional and Analytical Processing</a><ul><li><a href=#online-transaction-processing-oltp>Online Transaction Processing (OLTP)</a></li><li><a href=#transactional-database>Transactional Database</a></li></ul></li><li><a href=#2-etl-extract-transform-and-load>2. ETL: Extract, Transform, and Load</a></li></ul></li><li><a href=#5-models-of-dataflow>5. Models of Dataflow</a><ul><li><a href=#1-data-processing-through-database>1. Data Processing Through Database</a></li><li><a href=#2-data-passing-through-services>2. Data Passing Through Services</a></li><li><a href=#3-data-passing-through-real-time-transport>3. Data Passing Through Real-Time Transport</a></li></ul></li></ul></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/blog/categories/mlops/>Mlops</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/blog/p/chapter-3.-data-engineer-fundamentals/>Chapter 3. Data Engineer Fundamentals</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Nov 07, 2022</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>6 minute read</time></div></footer></div></header><section class=article-content><p>Summary of <a class=link href=https://learning.oreilly.com/library/view/designing-machine-learning/9781098107956/ target=_blank rel=noopener>Designing Machine Learning Systems</a> written by Chip Huyen.</p><hr><h1 id=chapter-3-data-engineer-fundamentals><a href=#chapter-3-data-engineer-fundamentals class=header-anchor></a>Chapter 3. Data Engineer Fundamentals</h1><p>To retrive stored data</p><p>‚Üí important to know</p><ul><li>not only how it‚Äôs formatted</li><li>but also how it‚Äôs structured</li></ul><p>Database: data sotrage engine</p><ul><li>transactional</li><li>Analytical</li></ul><p>Data in Production</p><ul><li>Pipeline<ul><li>Data ‚Üí multiple processes and service</li><li>Raw data ‚Üí featur engineering service ‚Üí predictions</li></ul></li><li>Types<ul><li>Historical data in data storage engines</li><li>Streaming data in real-time transports
‚Üí requires different processing paradigms</li></ul></li></ul><h2 id=1-data-sources><a href=#1-data-sources class=header-anchor></a>1. Data Sources</h2><h3 id=1-user-input-data><a href=#1-user-input-data class=header-anchor></a>1. User input data</h3><ul><li><p>data explicitly input by users</p><ul><li>Text, image, videos, upload files, etc‚Ä¶</li></ul></li><li><p>Users possibly can input wrong data ‚Üí easily malformatted</p><ul><li>Eg) text is too long or too short</li></ul></li><li><p>Users have little patience</p><p>‚Üí expect to get result bach immediately</p><p>‚Üí user input data tends to require fast processing</p></li></ul><h3 id=2-system-generated-data><a href=#2-system-generated-data class=header-anchor></a>2. System-generated data</h3><ul><li>data generated by different components of systems</li><li>Types<ul><li>Various types of logs<ul><li>Eg) memory usage, ‚Ä¶</li></ul></li><li>system outputs<ul><li>Eg) model predictions, ‚Ä¶</li></ul></li></ul></li><li>Property<ul><li>less likely to be malformatted</li><li>volume of logs can grow very quickly ‚Üí cause two problems<ol><li>Hard to know where to lokk because signals are lost in noise</li><li>How to store? ‚Üí discard old data and get only recent data</li></ol></li></ul></li></ul><h3 id=3-internal-databases><a href=#3-internal-databases class=header-anchor></a>3. Internal databases</h3><ul><li><p>generated by various services and enterprise applications in a company</p></li><li><p>Manages inventory, customer relationship, users</p><p>‚Üí can be used by ML Models</p></li></ul><h3 id=4-third-party-data><a href=#4-third-party-data class=header-anchor></a>4. Third-party data</h3><ol><li>first-party data<ul><li>Company already collects about users and customers</li></ul></li><li>second-party data<ul><li>collected by another compnay on their own customers that they make available to you</li><li>Probably have to pay for it</li></ul></li><li>Third-party data<ul><li>companies collect data on the public who aren‚Äôt direct customers<ul><li>Eg) unique advertiser ID</li></ul></li></ul></li></ol><h2 id=2-data-formats><a href=#2-data-formats class=header-anchor></a>2. Data Formats</h2><p>‚ÄòHow to store data?‚Äô Chech List</p><ul><li>how do I store <em>multimodal data?</em></li><li>how do I store <em>my data so that it‚Äôs cheap and still fast to access?</em></li><li>how do I store c<em>omplex models so that the can be loaded and run correctly on different hardwares?</em></li></ul><p>Data serialiazations</p><ol><li>Converting a<ul><li>data structure</li><li>Object state</li></ul></li><li>Into a format that can be<ol><li>Stored</li><li>Transmitted</li></ol></li><li>And reconstructed later</li></ol><div class=table-wrapper><table><thead><tr><th style=text-align:left>Format</th><th style=text-align:left>Binary / Text</th><th style=text-align:left>Human-Readable</th><th style=text-align:left>Use case</th></tr></thead><tbody><tr><td style=text-align:left>JSON</td><td style=text-align:left>Text</td><td style=text-align:left>O</td><td style=text-align:left>Everywhere</td></tr><tr><td style=text-align:left>CSV</td><td style=text-align:left>Text</td><td style=text-align:left>O</td><td style=text-align:left>Everywhere</td></tr><tr><td style=text-align:left>Parquet</td><td style=text-align:left>Binary</td><td style=text-align:left>X</td><td style=text-align:left>Hadoop</td></tr><tr><td style=text-align:left>Auro</td><td style=text-align:left>Binary Primary</td><td style=text-align:left>X</td><td style=text-align:left>Hadoop</td></tr><tr><td style=text-align:left>Protobuf</td><td style=text-align:left>Binary Primary</td><td style=text-align:left>X</td><td style=text-align:left>Google, TF Record</td></tr><tr><td style=text-align:left>Pickle</td><td style=text-align:left>Binary</td><td style=text-align:left>X</td><td style=text-align:left>Python, Python serializations</td></tr></tbody></table></div><h3 id=1-json-javascript-object-notation><a href=#1-json-javascript-object-notation class=header-anchor></a>1. JSON (JavaScript Object Notation)</h3><ul><li>Human-readable</li><li>Key-value<ul><li>Simple</li><li>Capable of handling data different levles of structedness</li></ul></li></ul><h3 id=2-row-major-versus-column-major><a href=#2-row-major-versus-column-major class=header-anchor></a>2. Row-Major versus Column-Major</h3><ul><li>Row-Major<ul><li>CSV</li><li>Use case) Accessing all the examples collected today</li><li>Data is stored and retrived row by row</li><li>Good for accessing samples</li><li>Better when you have to do a lot of writes</li></ul></li><li>Column-Major<ul><li>Parquet</li><li>Use case) accessing the timestamp of all examples</li><li>Data is stored and retrived column by column</li><li>Good for accessing features</li><li>Better when you have to do a lot of column-based readsd</li></ul></li><li>Numpy(Row) vs Pandas(Column)</li></ul><h3 id=3-text-versus-binary-format><a href=#3-text-versus-binary-format class=header-anchor></a>3. Text versus binary format</h3><ul><li>human-readable vs compact</li><li>Eg) ‚Äú1000000‚Äù<ul><li>Text: 7byte</li><li>Binary: int32 ‚Üí 32bits or 4bytes</li></ul></li></ul><h2 id=3-data-models><a href=#3-data-models class=header-anchor></a>3. Data Models</h2><p>How data is represented.</p><h3 id=1relation-model><a href=#1relation-model class=header-anchor></a>1.Relation Model</h3><ul><li>data is organized into relations : each relation is a set of tuples<div class=table-wrapper><table><thead><tr><th style=text-align:left></th><th style=text-align:left>column: unordered</th><th style=text-align:left></th><th style=text-align:left></th></tr></thead><tbody><tr><td style=text-align:left></td><td style=text-align:left>Column1</td><td style=text-align:left>Column2</td><td style=text-align:left>‚Ä¶</td></tr><tr><td style=text-align:left>Tuple (row): unordered</td><td style=text-align:left></td><td style=text-align:left></td><td style=text-align:left></td></tr><tr><td style=text-align:left></td><td style=text-align:left></td><td style=text-align:left></td><td style=text-align:left></td></tr></tbody></table></div></li></ul><h3 id=2-nosql-not-only-sql><a href=#2-nosql-not-only-sql class=header-anchor></a>2. NoSQL (Not Only SQL)</h3><ul><li>document model</li><li>graph model</li></ul><h3 id=3-structured-versus-unstructed-data><a href=#3-structured-versus-unstructed-data class=header-anchor></a>3. Structured versus Unstructed data</h3><ul><li>structured data<ul><li>follows a predefined data model ‚Üí data schema</li><li>make easier to analyze</li><li>data warehouse<ul><li>to store data that has been processed into formats ready to be used</li></ul></li></ul></li><li>unstructured data<ul><li>doesn‚Äôt adhere to a schema</li><li>eg)<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>lisa,43
</span></span><span class=line><span class=cl>hack,23
</span></span><span class=line><span class=cl>xxx,xxx,xxx &lt;- possible
</span></span></code></pre></td></tr></table></div></div></li></ul></li></ul><h2 id=4-data-storage-engine-and-processing><a href=#4-data-storage-engine-and-processing class=header-anchor></a>4. Data Storage Engine and Processing</h2><p>two types of workloads that database are optimized for</p><ul><li>transactional processing</li><li>analytical processing</li></ul><h3 id=1-transactional-and-analytical-processing><a href=#1-transactional-and-analytical-processing class=header-anchor></a>1. Transactional and Analytical Processing</h3><h4 id=online-transaction-processing-oltp><a href=#online-transaction-processing-oltp class=header-anchor></a>Online Transaction Processing (OLTP)</h4><ul><li>inserted, updated, deleted</li><li>often involve users so need 2 requirements:<ul><li>low latency: processed fast</li><li>high availability: processing system needs to be available any time</li></ul></li></ul><h4 id=transactional-database><a href=#transactional-database class=header-anchor></a>Transactional Database</h4><ul><li><p>Transactional Database</p><ul><li>designed: to process online transactions</li><li>requirements: low latency and high availability</li></ul></li><li><p><strong>ACID</strong></p><ol><li>Atomcity<ul><li>To guarantee that all steps in a transaction are completed successfully as a group.</li><li>eg) User payment fails ‚Üí do not assign driver</li></ul></li><li>Consistency<ul><li>To guarantee that all transactions coming through must follow predefined rules</li><li>eg) a transaction must be made by a valid user</li></ul></li><li>Isolation<ul><li>To guarantee that two transaction happen at the same time as if they were isolated.</li><li>eg) Do not book same driver to two users</li></ul></li><li>Durability<ul><li>To guarantee that once a transaction is committed, it will remain committed even in the case of a system failure.</li><li>eg) often ordered a ride and phone dies, still want ride to come</li></ul></li></ol></li><li><p>BASE (Basically Available, Soft state, and Eventually consistency)</p><ul><li>don‚Äôt necessarily need to be ACID</li></ul></li><li><p>often row-major</p><ul><li>not be efficient for question like: ‚Äúaverage of something in one month‚Äù
‚Üí Online Analytical Processing (OLAP)</li></ul></li><li><p>Both OLTP & OLAP ‚Üí Outdated</p><ol><li>Separation of OLTP & OLAP was due to limitation of technology</li><li>Storage and processing are tightly coupled<ul><li>store same data in different databases</li><li>decouple storage and processing (Big Query, Snowflake, IBM, Teradata)</li></ul></li></ol></li></ul><h3 id=2-etl-extract-transform-and-load><a href=#2-etl-extract-transform-and-load class=header-anchor></a>2. ETL: Extract, Transform, and Load</h3><ul><li>Flow<ul><li>Different sources ‚áí Extract ‚Üí transformed ‚Üí loaded ‚áí target destination</li></ul></li><li>Difficult to keep data structured ‚áí ELT</li><li>ELT ‚Üí Inefficient to search data</li><li>Hybrid solution (Databricks, Snowflake)</li></ul><h2 id=5-models-of-dataflow><a href=#5-models-of-dataflow class=header-anchor></a>5. Models of Dataflow</h2><ul><li>dataflow<ul><li>data is passed from one process to another</li></ul></li><li>Three main models of dataflow<ol><li>Data passing through databases</li><li>Data passing through services using requests by REST and RPC APIs</li><li>Data passing through a real-time transport like Apache Kafka and Amazon Kinesis</li></ol></li></ul><h3 id=1-data-processing-through-database><a href=#1-data-processing-through-database class=header-anchor></a>1. Data Processing Through Database</h3><ul><li>The easiest way to pass data between two process</li><li>To pass data from process A to process B<ul><li>eg) process A write data into database and process B just read it</li></ul></li><li>Doesn‚Äôt work<ol><li>Two process are running in different companies</li><li>Requires both process to access data from databases<ul><li>read/write from database can be slow</li><li>make it unsuitable for low latency</li></ul></li></ol></li></ul><h3 id=2-data-passing-through-services><a href=#2-data-passing-through-services class=header-anchor></a>2. Data Passing Through Services</h3><ul><li>send data directly through a network</li><li>Request-driven<ul><li>process communicate through requests</li><li>‚Üí microservice architecture</li></ul></li><li>styles of request<ol><li>REST (Representational State Transfer)<ul><li>designed for requests over network</li><li>predominant style for public APIs</li></ul></li><li>RPC (Remote Procedure Call)<ul><li>tries to make a request to a remote network service look the same as <em>calling a function or method</em> in programming language</li><li>requests between services owned by the same organization</li></ul></li></ol></li></ul><h3 id=3-data-passing-through-real-time-transport><a href=#3-data-passing-through-real-time-transport class=header-anchor></a>3. Data Passing Through Real-Time Transport</h3><ul><li>request-driven : synchronous<ul><li>target service has to listen to the request for the request to go through</li></ul></li><li>Broker<ul><li>coordinates data passing among services</li><li>each service only has to communicate with the broker</li><li>use in-memory storage</li></ul></li><li>Real-time transport: in-memory storage for data passing among services</li><li>Event<ul><li>A piece of data broadcast to a real-time transport (a.k.a event-bus)</li></ul></li><li>Architecture<ul><li>Request-driven architecture<ul><li>rely more on logic than on data</li></ul></li><li>Event-driven architecture<ul><li>works better for system that are data-heavy</li></ul></li></ul></li><li>Common types of real-time transports<ol><li>pubsub (publish-subscribe)<ul><li>overview<ul><li>any service can publish to different topics in a real-time transport</li><li>any service that subscribes to a topic can read all events in that topic</li></ul></li><li>retention policy<ul><li>data will be retained in the real-time transport for a certain period time of time before<ul><li>deleted</li><li>move to a permanent storage (Amazon S3)</li></ul></li><li>service produce don‚Äôt care about what services consume their data</li></ul></li><li>Apache Kafka, Amazon Kinesis</li></ul></li><li>Message Queue<ul><li>responsible for getting the message to right consumer</li><li>Apache RocketMQ, RabbitMQ</li></ul></li></ol></li></ul></section><footer class=article-footer><section class=article-tags><a href=/blog/tags/ml-system/>Ml-System</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/blog/p/chapter-9.-continual-learning-and-test-in-production/><div class=article-details><h2 class=article-title>Chapter 9. Continual Learning and Test in Production</h2></div></a></article><article><a href=/blog/p/chapter-8.-data-distribution-shifts-and-monitoring/><div class=article-details><h2 class=article-title>Chapter 8. Data Distribution Shifts and Monitoring</h2></div></a></article><article><a href=/blog/p/chapter-7.-model-deployment-and-prediction-service/><div class=article-details><h2 class=article-title>Chapter 7. Model Deployment and Prediction Service</h2></div></a></article><article><a href=/blog/p/apache-kafka-101/><div class=article-details><h2 class=article-title>Apache Kafka 101</h2></div></a></article><article><a href=/blog/p/kafka-setup/><div class=article-details><h2 class=article-title>Kafka Setup</h2></div></a></article></div></div></aside><script src=https://utteranc.es/client.js repo=aiden-jeon/aiden-jeon.github.io issue-term=pathname label=comment crossorigin=anonymous async></script><style>.utterances{max-width:unset}</style><script>let utterancesLoaded=!1;function setUtterancesTheme(e){let t=document.querySelector(".utterances iframe");t&&t.contentWindow.postMessage({type:"set-theme",theme:`github-${e}`},"https://utteranc.es")}addEventListener("message",e=>{if(e.origin!=="https://utteranc.es")return;utterancesLoaded=!0,setUtterancesTheme(document.documentElement.dataset.scheme)}),window.addEventListener("onColorSchemeChange",e=>{if(!utterancesLoaded)return;setUtterancesTheme(e.detail)})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2024 Aiden's Camp</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.27.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/blog/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>