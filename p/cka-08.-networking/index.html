<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="CKAÎ•º Ï§ÄÎπÑÌïòÎ©¥ÏÑú Í≥µÎ∂ÄÌïú ÏöîÏïΩ ÎÇ¥Ïö©ÏûÖÎãàÎã§.\nÍ∞ïÏùò What is CKA? POD Networking Every POD should have and IP Address Every POD should be able to communicate with every other POD in the same node Every POD should be able to communicate with every other POD on other nodes without NAT CNI in kubernetes Configuring CNI kubelete.service ps -aux | grep kubelet --cni-conf-dir=/etc/cni/net.d ls /opt/cni/bin ls /etc/cni/net.d CNI WeaveWorks Script Networking solution has a routing table which mapped what networks are on what hosts\n"><title>(CKA) 08. Networking</title>
<link rel=canonical href=https://aiden-jeon.github.io/blog/p/cka-08.-networking/><link rel=stylesheet href=/blog/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="(CKA) 08. Networking"><meta property='og:description' content="CKAÎ•º Ï§ÄÎπÑÌïòÎ©¥ÏÑú Í≥µÎ∂ÄÌïú ÏöîÏïΩ ÎÇ¥Ïö©ÏûÖÎãàÎã§.\nÍ∞ïÏùò What is CKA? POD Networking Every POD should have and IP Address Every POD should be able to communicate with every other POD in the same node Every POD should be able to communicate with every other POD on other nodes without NAT CNI in kubernetes Configuring CNI kubelete.service ps -aux | grep kubelet --cni-conf-dir=/etc/cni/net.d ls /opt/cni/bin ls /etc/cni/net.d CNI WeaveWorks Script Networking solution has a routing table which mapped what networks are on what hosts\n"><meta property='og:url' content='https://aiden-jeon.github.io/blog/p/cka-08.-networking/'><meta property='og:site_name' content="Aiden's Camp"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='k8s'><meta property='article:tag' content='cka'><meta property='article:published_time' content='2021-06-06T00:00:00+00:00'><meta property='article:modified_time' content='2021-06-06T00:00:00+00:00'><meta name=twitter:title content="(CKA) 08. Networking"><meta name=twitter:description content="CKAÎ•º Ï§ÄÎπÑÌïòÎ©¥ÏÑú Í≥µÎ∂ÄÌïú ÏöîÏïΩ ÎÇ¥Ïö©ÏûÖÎãàÎã§.\nÍ∞ïÏùò What is CKA? POD Networking Every POD should have and IP Address Every POD should be able to communicate with every other POD in the same node Every POD should be able to communicate with every other POD on other nodes without NAT CNI in kubernetes Configuring CNI kubelete.service ps -aux | grep kubelet --cni-conf-dir=/etc/cni/net.d ls /opt/cni/bin ls /etc/cni/net.d CNI WeaveWorks Script Networking solution has a routing table which mapped what networks are on what hosts\n"><link rel="shortcut icon" href=/blog/icons/favicon.ico><script async src="https://www.googletagmanager.com/gtag/js?id=G-419F58RW9W"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-419F58RW9W")}</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/blog/><img src=/blog/imgs/avatar_hu6933059792947527008.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>üî•</span></figure><div class=site-meta><h1 class=site-name><a href=/blog>Aiden's Camp</a></h1><h2 class=site-description>Welcome to Aiden's Camp</h2></div></header><ol class=menu-social><li><a href=https://github.com/Aiden-Jeon target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://www.linkedin.com/in/jongseob-jeon/ target=_blank title=Linkedin rel=me><svg fill="#000" height="800" width="800" id="Layer_1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 310 310"><g id="XMLID_801_"><path id="XMLID_802_" d="M72.16 99.73H9.927c-2.762.0-5 2.239-5 5v199.928c0 2.762 2.238 5 5 5H72.16c2.762.0 5-2.238 5-5V104.73c0-2.76100000000001-2.238-5-5-5z"/><path id="XMLID_803_" d="M41.066.341C18.422.341.0 18.743.0 41.362.0 63.991 18.422 82.4 41.066 82.4c22.626.0 41.033-18.41 41.033-41.038C82.1 18.743 63.692.341 41.066.341z"/><path id="XMLID_804_" d="M230.454 94.761c-24.995.0-43.472 10.745-54.679 22.954V104.73c0-2.761-2.238-5-5-5h-59.599c-2.762.0-5 2.239-5 5v199.928c0 2.762 2.238 5 5 5h62.097c2.762.0 5-2.238 5-5V205.74c0-33.333 9.054-46.319 32.29-46.319 25.306.0 27.317 20.818 27.317 48.034v97.204c0 2.762 2.238 5 5 5H305c2.762.0 5-2.238 5-5V194.995C310 145.43 300.549 94.761 230.454 94.761z"/></g></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/blog/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/blog/categories><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg>
<span>Categories</span></a></li><li><a href=/blog/tags><svg class="icon icon-tabler icon-tabler-tag" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11 3l9 9a1.5 1.5.0 010 2l-6 6a1.5 1.5.0 01-2 0L3 11V7a4 4 0 014-4h4"/><circle cx="9" cy="9" r="2"/></svg>
<span>Tags</span></a></li><li><a href=/blog/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li><a href=/blog/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/blog/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ul><li><a href=#pod-networking>POD Networking</a></li><li><a href=#cni-in-kubernetes>CNI in kubernetes</a><ul><li><a href=#configuring-cni>Configuring CNI</a></li></ul></li><li><a href=#cni-weaveworks>CNI WeaveWorks</a><ul><li><a href=#script>Script</a></li><li><a href=#weaveworks>WeaveWorks</a><ul><li><a href=#how-it-works>How it works</a></li><li><a href=#deploy>Deploy</a></li><li><a href=#ÏÉÅÌÉú>ÏÉÅÌÉú</a></li></ul></li></ul></li><li><a href=#ip-adress-management>IP Adress Management</a><ul><li><a href=#script-1>Script</a><ul><li><a href=#who>Who</a></li><li><a href=#how>How</a></li></ul></li><li><a href=#weaveworks-1>WeaveWorks</a></li></ul></li><li><a href=#service-networking>Service Networking</a><ul><li><a href=#type-of-service>Type of service</a><ul><li><a href=#cluster-ip>Cluster IP</a></li><li><a href=#nodeport>NodePort</a></li></ul></li><li><a href=#question>Question</a></li><li><a href=#answer>Answer</a><ul><li><a href=#kubelet-process>kubelet process</a></li><li><a href=#kube-proxy>kube-proxy</a></li><li><a href=#service-ip>Service IP</a></li><li><a href=#rules-of-service-ip>Rules of service IP</a></li><li><a href=#logs>Logs</a></li></ul></li></ul></li><li><a href=#dns-in-kubernetes>DNS in kubernetes</a><ul><li><a href=#objectives>Objectives</a></li><li><a href=#kube-dns>Kube DNS</a></li></ul></li><li><a href=#how-k8s-implements-dns>How k8s implements DNS?</a><ul><li><a href=#coredns>CoreDNS</a></li><li><a href=#dns-server>DNS Server</a></li></ul></li><li><a href=#ingress>Ingress</a><ul><li><a href=#ingress-controller>Ingress Controller</a></li><li><a href=#ingress-resource>Ingress Resource</a><ul><li><a href=#rules>Rules</a></li><li><a href=#single>Single</a></li><li><a href=#several-rules>Several rules</a></li><li><a href=#several-domains>Several domains</a></li></ul></li></ul></li></ul></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/blog/categories/kubernetes/>Kubernetes</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/blog/p/cka-08.-networking/>(CKA) 08. Networking</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Jun 06, 2021</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>6 minute read</time></div></footer></div></header><section class=article-content><p>CKAÎ•º Ï§ÄÎπÑÌïòÎ©¥ÏÑú Í≥µÎ∂ÄÌïú ÏöîÏïΩ ÎÇ¥Ïö©ÏûÖÎãàÎã§.</p><ul><li><a class=link href=https://www.udemy.com/course/certified-kubernetes-administrator-with-practice-tests/ target=_blank rel=noopener>Í∞ïÏùò</a></li><li><a class=link href=https://www.cncf.io/certification/cka/ target=_blank rel=noopener>What is CKA?</a></li></ul><h2 id=pod-networking><a href=#pod-networking class=header-anchor></a>POD Networking</h2><ul><li>Every POD should have and IP Address</li><li>Every POD should be able to communicate with every other POD in the same node</li><li>Every POD should be able to communicate with every other POD on other nodes without NAT</li></ul><h2 id=cni-in-kubernetes><a href=#cni-in-kubernetes class=header-anchor></a>CNI in kubernetes</h2><h3 id=configuring-cni><a href=#configuring-cni class=header-anchor></a>Configuring CNI</h3><ul><li>kubelete.service</li><li><code>ps -aux | grep kubelet</code><ul><li><code>--cni-conf-dir=/etc/cni/net.d</code></li><li><code>ls /opt/cni/bin</code></li><li><code>ls /etc/cni/net.d</code></li></ul></li></ul><h2 id=cni-weaveworks><a href=#cni-weaveworks class=header-anchor></a>CNI WeaveWorks</h2><h3 id=script><a href=#script class=header-anchor></a>Script</h3><p>Networking solution has a routing table which mapped what networks are on what hosts</p><ul><li>when a packet is sent from pod to the other, it goes out<ul><li>to the network,</li><li>to the router,</li><li>find its way to the node that hosts that pod
‚Üí works for a small environment and in a simple network
‚Üí Larger environment, this is not practical</li></ul></li><li>routing table may not support so many entries</li></ul><h3 id=weaveworks><a href=#weaveworks class=header-anchor></a>WeaveWorks</h3><ul><li>deply an agent or service on each node</li><li>they communicate with each other to exchange information withing them<ul><li>nodes</li><li>networks</li><li>PODs</li></ul></li></ul><h4 id=how-it-works><a href=#how-it-works class=header-anchor></a>How it works</h4><ul><li>Send<ol><li>a packet is sent from one pod to another on another node</li><li>weave intercepts the packet and identifies that it&rsquo;s on a seperate network</li><li>encapsulates this packet into a new one with new source and destination</li><li>sends it across the network</li></ol></li><li>Recieve<ul><li>other weave agent retrieves the packet</li><li>decapsulates</li><li>routes the packet to the right pod</li></ul></li></ul><h4 id=deploy><a href=#deploy class=header-anchor></a>Deploy</h4><ul><li>weave and weave peers<ul><li>deployed as service or daemons on each node</li></ul></li><li><code>kubectl apply -f "&lt;https://cloud.weave.works/k8s/net?k8s-version=$>(kubectl version | base64 | tr -d '\\n')"</code><ul><li>deploys daemonset</li></ul></li></ul><h4 id=ÏÉÅÌÉú><a href=#%ec%83%81%ed%83%9c class=header-anchor></a>ÏÉÅÌÉú</h4><ul><li><code>kubectl get pods -n kubesystem | grep weave-net</code></li></ul><h2 id=ip-adress-management><a href=#ip-adress-management class=header-anchor></a>IP Adress Management</h2><ul><li>how the tool brutes networks</li><li>the nodes assign an IP subset</li><li>how are the pods assigned an IP</li><li>where is this information stored</li><li>who is responsible for ensuring there are no duplicate IP is assigned</li></ul><h3 id=script-1><a href=#script-1 class=header-anchor></a>Script</h3><h4 id=who><a href=#who class=header-anchor></a>Who</h4><ul><li>CNI<ul><li>who define the standards CNI</li><li>it is responsibility of the CNI plugin, the network provider to take care of assigning IP to the containers</li></ul></li></ul><h4 id=how><a href=#how class=header-anchor></a>How</h4><ul><li>get free IP list from file<ul><li>placed on the each host</li><li><code>ip = get_free_ip_from_host_local()</code></li></ul></li><li><code>cat /etc/cni/net.d/net-script.conf</code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>&#34;ipam&#34;: </span>{<span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>&#34;type&#34;: </span><span class=l>...,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>&#34;subnet&#34;: </span><span class=l>...,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>&#34;routes&#34;: </span><span class=l>...,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>}<span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li></ul><h3 id=weaveworks-1><a href=#weaveworks-1 class=header-anchor></a>WeaveWorks</h3><ul><li>entire network<ul><li>10.32.0.0/12</li><li>10.32.0.1 ~ 10.47.255.254</li></ul></li></ul><h2 id=service-networking><a href=#service-networking class=header-anchor></a>Service Networking</h2><h3 id=type-of-service><a href=#type-of-service class=header-anchor></a>Type of service</h3><h4 id=cluster-ip><a href=#cluster-ip class=header-anchor></a>Cluster IP</h4><ul><li>if created it is accessible from all pods of the cluster, irrespective of what nodes the pods are on</li><li>hosted across the cluster</li><li>only aceescible from within ther cluster</li></ul><h4 id=nodeport><a href=#nodeport class=header-anchor></a>NodePort</h4><ul><li>works as cluster IP</li><li>in addtion, it also exposes the applications on a port on all nodes in ther cluster<ul><li>external user or applications have access to the service</li></ul></li></ul><h3 id=question><a href=#question class=header-anchor></a>Question</h3><ul><li>How are the services getting these IP addresses</li><li>How are they made avaliable acorss all the nodes in the cluster</li><li>How is service made avalible to external users through a port on each node</li><li>Who is doing that, and how and where do we see it</li></ul><h3 id=answer><a href=#answer class=header-anchor></a>Answer</h3><h4 id=kubelet-process><a href=#kubelet-process class=header-anchor></a>kubelet process</h4><ul><li>which is responsible for creating PODs</li><li>each kubelet service on each node</li><li>whatches the changes in the cluster through the kube-api server<ol><li>everty time a new pod is to be created, it creates the pod on the nodes</li><li>invokes the CNI plugin to configure networking for that pod</li></ol></li></ul><h4 id=kube-proxy><a href=#kube-proxy class=header-anchor></a>kube-proxy</h4><ul><li>runs on each node</li><li>watches the changes in the cluster through kube-api server</li><li>every time a new service is to be crated</li><li>service are not created on each node or assigned to each node<ul><li>service is the cluster wide concept</li></ul></li><li>virtual object</li></ul><h4 id=service-ip><a href=#service-ip class=header-anchor></a>Service IP</h4><ol><li>create service obejct in k8s</li><li>it is assigned an IP address from a pre-defined range</li><li>kube-proxy components running on each node, get&rsquo;s that IP address</li><li>creates forwarding rulse on each node in ther clsuter<ul><li>any traffic coming in to service IP, should go the IP of the pod</li></ul></li></ol><h4 id=rules-of-service-ip><a href=#rules-of-service-ip class=header-anchor></a>Rules of service IP</h4><ul><li>kube-proxy supports serveral-way<ul><li>userspace</li><li>ipvs</li><li>iptables</li></ul></li><li>setting<ul><li><code>kube-proxy --proxy-mode [userspaces | iptables | ipvs] ...</code><ul><li>default: ip tables</li></ul></li></ul></li><li>ip tables<ol><li>pod is created it has ip 10.244.1.2</li><li>create a ClusterIP service<ul><li>k8s assigns an IP address to it, 10.103.132.104</li><li>range is specified in kube-api-server option<ul><li><code>kube-api-server --service-cluster-ip-range ipNet</code></li><li>default : 10.0.0.0/24</li><li><code>ps aux | grep kube-api-server</code></li></ul></li><li>pod ip range and service ip range shoulde be not duplicat ed</li></ul></li><li>see the tables<ul><li><code>iptables -L -t net | grep db-service</code></li></ul></li></ol></li></ul><h4 id=logs><a href=#logs class=header-anchor></a>Logs</h4><ul><li><code>cat /var/log/kube-proxy.log</code><ul><li>what proxy it uses</li><li>IP tables and Add and entry whe new serviec is created</li></ul></li></ul><h2 id=dns-in-kubernetes><a href=#dns-in-kubernetes class=header-anchor></a>DNS in kubernetes</h2><h3 id=objectives><a href=#objectives class=header-anchor></a>Objectives</h3><ul><li>what names are assigned to what obejcts?</li><li>Service DNS records</li><li>POD DNS records</li></ul><h3 id=kube-dns><a href=#kube-dns class=header-anchor></a>Kube DNS</h3><ul><li>service is created</li><li>k8s DNS service creates a record for the service<ul><li>it maps the service name to the IP address</li></ul></li><li>any pod can reach the service using its service name<ul><li><code>&lt;service-name>.&lt;namesapce>.&lt;type>.&lt;Root></code></li><li>subdomain = namespace</li><li>type = svc</li><li>root = cluster.local</li><li>eg) <code>curl http://web-service.apps.svc.cluster.local</code></li></ul></li><li>pod<ul><li>hostname<ul><li>10.224.2.5 ‚Üí 10-224-2-5</li></ul></li><li>type ‚Üí pod</li><li>eg) <code>curl http://10-224-2-5.apps.pod.cluster.local</code></li></ul></li></ul><h2 id=how-k8s-implements-dns><a href=#how-k8s-implements-dns class=header-anchor></a>How k8s implements DNS?</h2><h3 id=coredns><a href=#coredns class=header-anchor></a>CoreDNS</h3><ul><li><code>cat /etc/coredns/Corefile</code></li><li><code>kubectl get configmap -n kube-system</code></li></ul><h3 id=dns-server><a href=#dns-server class=header-anchor></a>DNS Server</h3><ul><li>node<ul><li><code>cat /etc/resolv.conf</code><ul><li><code>nameserver 10.96.0.10</code></li><li>k8s do automatically</li></ul></li></ul></li></ul><h2 id=ingress><a href=#ingress class=header-anchor></a>Ingress</h2><h3 id=ingress-controller><a href=#ingress-controller class=header-anchor></a>Ingress Controller</h3><p><img src=/imgs/cka/networking-1.png loading=lazy alt=ingress-controller></p><ul><li>nginx deployment<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>extensrions/v1beta1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Deployment</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>nginx-ingress-controller</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>replicas</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>selector</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>matchLabels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>nginx-ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>template</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>nginx-ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>containers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>nginx-ingress-controller</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>args</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>/nginx-ingress-controller</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- --<span class=l>configmap=$(POD_NAMESPACE)/nginx-configuration</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>POD_NAME</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>valueFrom</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>fieldRef</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>fieldPath</span><span class=p>:</span><span class=w> </span><span class=l>metadata.name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>POD_NAMESPACE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>valueFrom</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>fieldRef</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>fieldPath</span><span class=p>:</span><span class=w> </span><span class=l>metadata.namesapce</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>http</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>contrainerPort</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>https</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>contrainerPort</span><span class=p>:</span><span class=w> </span><span class=m>443</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li><li>configmap<ul><li>feed nginx configuration data<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>ConfigMap</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>nginx-configuration</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li></ul></li><li>service<ul><li>expose<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>nginx-ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>NodePort</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>port</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>targetPort</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>protocol</span><span class=p>:</span><span class=w> </span><span class=l>TCP</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>http</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>port</span><span class=p>:</span><span class=w> </span><span class=m>443</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>targetPort</span><span class=p>:</span><span class=w> </span><span class=m>443</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>protocol</span><span class=p>:</span><span class=w> </span><span class=l>TCP</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>https</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>selector</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>nginx-ingress</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li></ul></li><li>service account<ul><li>right permissions to access</li><li>Roles</li><li>ClusterRoles</li><li>RoleBindings<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>ServiceAccount</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>nginx-ingress-serviceaacount</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li></ul></li></ul><h3 id=ingress-resource><a href=#ingress-resource class=header-anchor></a>Ingress Resource</h3><ul><li>simple one application</li><li>single domain and several subdomains</li><li>several domains</li><li>ÏÉÅÌÉú<ul><li><code>kubectl get ingress</code></li></ul></li></ul><h4 id=rules><a href=#rules class=header-anchor></a>Rules</h4><p><img src=/imgs/cka/networking-2.png loading=lazy alt=ingress-rules></p><h4 id=single><a href=#single class=header-anchor></a>Single</h4><p><img src=/imgs/cka/networking-3.png loading=lazy alt=ingress-single></p><ul><li>definition<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>extensrions/v1beta1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>ingress -wear</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>backend</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>serviceName</span><span class=p>:</span><span class=w> </span><span class=l>web-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>servicePort</span><span class=p>:</span><span class=w>  </span><span class=m>80</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li></ul><h4 id=several-rules><a href=#several-rules class=header-anchor></a>Several rules</h4><p><img src=/imgs/cka/networking-4.png loading=lazy alt=ingress-serveral-rules></p><ul><li>definition<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>extensrions/v1beta1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>ingress -wear</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/wear</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>backend</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>serviceName</span><span class=p>:</span><span class=w> </span><span class=l>wear-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>servicePort</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/watch</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>backend</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>serviceName</span><span class=p>:</span><span class=w> </span><span class=l>watch-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>servicePort</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li>ÏÉÅÌÉú<ul><li><code>kubectl describe ingress ingress-wear-watch</code></li><li>default backend<ul><li>if user access to not specified server</li></ul></li></ul></li></ul></li></ul><h4 id=several-domains><a href=#several-domains class=header-anchor></a>Several domains</h4><p><img src=/imgs/cka/networking-5.png loading=lazy alt=ingress-serveral-domains></p><ul><li>definition<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>extensrions/v1beta1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>ingress-wear</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>wear.my-online-store.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>backend</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>serviceName</span><span class=p>:</span><span class=w> </span><span class=l>wear-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>servicePort</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>watch.my-online-store.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>backend</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>serviceName</span><span class=p>:</span><span class=w> </span><span class=l>watch-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>servicePort</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li></ul></section><footer class=article-footer><section class=article-tags><a href=/blog/tags/k8s/>K8s</a>
<a href=/blog/tags/cka/>Cka</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/blog/p/cka-cka-%ED%95%A9%EA%B2%A9-%ED%9B%84%EA%B8%B0/><div class=article-details><h2 class=article-title>(CKA) CKA Ìï©Í≤© ÌõÑÍ∏∞</h2></div></a></article><article><a href=/blog/p/cka-09.-design-and-install-a-k8s-cluster/><div class=article-details><h2 class=article-title>(CKA) 09. Design and Install a k8s Cluster</h2></div></a></article><article><a href=/blog/p/cka-08.-networking-pre-requisites/><div class=article-details><h2 class=article-title>(CKA) 08. Networking Pre-requisites</h2></div></a></article><article><a href=/blog/p/cka-07.-storage/><div class=article-details><h2 class=article-title>(CKA) 07. Storage</h2></div></a></article><article><a href=/blog/p/cka-06.-security/><div class=article-details><h2 class=article-title>(CKA) 06. Security</h2></div></a></article></div></div></aside><script src=https://utteranc.es/client.js repo=aiden-jeon/aiden-jeon.github.io issue-term=pathname label=comment crossorigin=anonymous async></script><style>.utterances{max-width:unset}</style><script>let utterancesLoaded=!1;function setUtterancesTheme(e){let t=document.querySelector(".utterances iframe");t&&t.contentWindow.postMessage({type:"set-theme",theme:`github-${e}`},"https://utteranc.es")}addEventListener("message",e=>{if(e.origin!=="https://utteranc.es")return;utterancesLoaded=!0,setUtterancesTheme(document.documentElement.dataset.scheme)}),window.addEventListener("onColorSchemeChange",e=>{if(!utterancesLoaded)return;setUtterancesTheme(e.detail)})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2024 Aiden's Camp</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.27.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/blog/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>